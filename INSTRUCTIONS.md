# プラレールSNS 使い方ガイド

## 📝 投稿・検索・探索機能の使い方（リアルタイムサジェスト対応！）

### 🚪 ログイン方法

1. **ブラウザでアクセス**: https://34cc7bc1.plarail-sns.pages.dev
2. **右上の「ログイン」ボタンをクリック**
3. **既存のユーザー名を入力**:
   - `admin` - 運営アカウント
   - `takara_tomy` - タカラトミー公式
   - `plarail_taro` - プラレール太郎
   - `train_collector` - 車両コレクター花子
   - `layout_master` - レイアウトマスター

### 📝 投稿方法

#### 画像投稿
1. ログイン後、ヒーローセクションの「投稿する」ボタンをクリック
2. または主要機能セクションの「画像投稿」カードの「投稿を見る →」をクリック
3. 投稿フォームに以下を入力:
   - **タイトル** (必須)
   - **説明文**
   - **カテゴリ** (レイアウト、車両コレクション、改造、ジオラマ)
   - **タグ** (カンマ区切り、例: `新幹線,E5系,連結`)
4. 「投稿」ボタンをクリック

#### 質問投稿
1. 質問・回答セクションの「質問する」ボタンをクリック
2. 質問フォームに以下を入力:
   - **タイトル** (必須)
   - **質問内容** (必須)
   - **カテゴリ** (車両、レイアウト、購入相談、メンテナンス)
   - **難易度** (初心者、中級者、上級者)
3. 「質問を投稿」ボタンをクリック

#### 要望投稿
1. 要望リクエストセクションの「要望する」ボタンをクリック
2. 要望フォームに以下を入力:
   - **タイトル** (必須)
   - **詳細説明** (必須)
   - **カテゴリ** (新車両、新レール・情景部品、既存商品改良、復刻要望)
3. 「要望を投稿」ボタンをクリック

### 🔍 検索方法（新機能！リアルタイムサジェスト）

#### 基本的な検索
1. **ナビゲーションバーの検索バー**に検索キーワードを入力
2. **虫眼鏡アイコン**をクリックまたはEnterキーを押す
3. 検索結果が表示されます:
   - 投稿
   - 質問
   - ユーザー

#### 🆕 リアルタイムサジェスト機能
1. **検索バーに入力を始める**と、リアルタイムで候補が表示されます
2. **サジェストの種類**:
   - 📷 **投稿** - タイトルマッチング（青色アイコン）
   - ❓ **質問** - 質問タイトルマッチング（緑色アイコン）
   - 👤 **ユーザー** - ユーザー名マッチング（紫色アイコン）
   - 🕒 **検索履歴** - 過去の検索キーワード（灰色アイコン）
3. **サジェストをクリック**すると即座に検索実行
4. **検索履歴管理**:
   - 最大10件まで自動保存
   - 「履歴をクリア」ボタンで削除可能

#### 🎯 検索結果フィルター
1. 検索結果画面上部の**フィルターボタン**で絞り込み:
   - **すべて** - 全種類の結果を表示
   - **投稿** - 投稿のみ表示
   - **質問** - 質問のみ表示
   - **ユーザー** - ユーザーのみ表示
2. 各フィルターには**該当件数**が表示されます

#### 💡 検索のコツ
- **2文字以上**入力するとサジェストが表示されます
- 入力停止後**0.3秒**でサジェストを取得（API負荷軽減）
- 検索履歴は**ローカルストレージ**に保存（ブラウザごと）

### 🧭 探索方法（NEW！発見機能）

#### 基本的な使い方
1. **ヒーローセクションの「探索する」ボタン**をクリック
2. 探索モーダルが開きます

#### 🔥 人気の投稿タブ
- **いいね数順**で投稿を表示
- コミュニティで話題のコンテンツを発見
- 最大12件の人気投稿

#### #️⃣ トレンドタグタブ
- **リアルタイム集計**で最も使われているタグを表示
- **トップ20タグ**をグラデーションカードで表示
- タグをクリックすると自動的に検索実行
- 各タグの投稿数も表示

#### 👥 おすすめユーザータブ
- アクティブなユーザー一覧
- 公式アカウントには✓認証バッジ付き
- ユーザープロフィールカードをクリックで検索

#### 🕐 最新の投稿タブ
- **時系列順**で最新の投稿を表示
- 新しいコンテンツをいち早くチェック
- 最大12件の最新投稿

#### 💡 探索のコツ
- **ログイン不要**で閲覧可能
- タグやユーザーをクリックすると**検索モードに移行**
- トレンドタグで人気のキーワードを把握
- 公式アカウントの最新情報をチェック

### 💡 APIを使った投稿方法（開発者向け）

#### 投稿API
```bash
curl -X POST https://8fa4e02b.plarail-sns.pages.dev/api/posts \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 3,
    "title": "新しいレイアウト",
    "description": "今日作ったレイアウトです",
    "category": "レイアウト",
    "visibility": "public",
    "images": ["https://placehold.co/800x600"],
    "tags": ["レイアウト", "新幹線"]
  }'
```

#### 質問API
```bash
curl -X POST https://8fa4e02b.plarail-sns.pages.dev/api/questions \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 3,
    "title": "レールの接続について",
    "content": "曲線レールと直線レールの接続がうまくいきません",
    "category": "レイアウト",
    "difficulty": "初心者"
  }'
```

#### 検索API
```bash
curl "https://8fa4e02b.plarail-sns.pages.dev/api/search?q=新幹線&type=all"
```

## 🎯 現在の制限事項

### 📸 画像アップロード
- **R2ストレージが未有効**: 現在、実際の画像アップロードは利用できません
- **プレースホルダー画像使用**: 投稿時は自動的にプレースホルダー画像が使用されます
- **有効化方法**: Cloudflareダッシュボードで R2を有効化してください

### 🔐 認証システム
- **簡易ログイン**: 現在はユーザー名のみでログイン（パスワード不要）
- **ローカルストレージ**: ログイン状態はブラウザのローカルストレージに保存
- **セッション管理**: サーバー側のセッション管理は未実装

## 🚀 今後の改善予定

1. **完全な認証システム**: パスワード、セッション管理
2. **実際の画像アップロード**: R2ストレージ統合
3. **リアルタイム通知**: 新しい回答やいいねの通知
4. **プロフィール編集**: ユーザー情報の更新機能
5. **詳細ページ**: 投稿、質問の個別ページ
6. **コメント機能**: 投稿へのコメント追加
7. **フォロー機能UI**: フォロー/フォロワーの管理画面

## 📱 推奨環境

- **ブラウザ**: Chrome, Firefox, Safari, Edge (最新版)
- **画面サイズ**: デスクトップ、タブレット、スマートフォン対応
- **JavaScript**: 必須（有効にしてください）

## 🐛 トラブルシューティング

### 投稿ができない
1. ログインしていますか？
2. 必須項目（タイトル等）を入力しましたか？
3. ブラウザのコンソールでエラーを確認してください

### 検索結果が表示されない
1. 検索キーワードは正しいですか？
2. データベースに該当するデータがありますか？
3. ネットワーク接続を確認してください

### ログインできない
1. 正しいユーザー名を入力しましたか？
2. ブラウザのJavaScriptが有効になっていますか？
3. ブラウザのコンソールでエラーを確認してください

## 💬 フィードバック

質問や問題がある場合は、GitHubリポジトリのIssuesにご報告ください:
https://github.com/jimmynaka/plarail/issues
